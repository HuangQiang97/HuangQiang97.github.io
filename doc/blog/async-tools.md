#### 

##### 简介

实现计算单元间的串并行编排，通过异步回调解耦，支持链路超时限制、条件触发和计算结果传递。

* 多任务串行、并行编排：

    1，具有依赖关系的任务组编排`（a-->b-->c, a-->(b-->c, d-->e-->f)-->g ）`；

    2，并行任务结果收集，有任务成功返回`any(a, b, c)-->d`或者全部成功返回`all(a, b, c)-->d`才进入下一步；

    3，并行任务的强制前置依赖和非强制前置依赖`(optional(a, b),must(c, d))-->e`；

    4，线程隔离任务组。

* 任务回调：每个任务都可以有回调，用于监控、日志、设置默认值、异常处理；
* 短路特性：当设置任一并行任务执行成功即可计进入下一步时`any(a, b-->c, d-->e-->f)-->g`，当某一条支路的任务成功执行后，即进入下一阶段任务，其余支路任务将被跳过不再执行；
* 任务组执行超时控制；
* 上游任务结果依赖：下游任务可以获取任一上游任务返回结果作为自己的输入;
* 无锁编程、线程复用。

##### 组成

* `Worker`：最基本计算单元，无状态节点，执行计算任务，支持返回默认计算结果。
* `Callback`：为`Worker`执行前置和后置操作，无状态节点，异步回调避免任务调用方阻塞。
* `WorkerWrapper`：对每个`worker`及`callback`进行一对一包装。保存计算节点状态，包括节点运行状态、前置依赖节点列表、后续调用计算节点列表、计算节点输入参数和输出返回值。同时决定当前节点是否触发，并发起对下一个计算节点调用。
* `Async`：任务执行入口，执行任务真正的调度和运行。



wareper有状态，worker无状态

如何短路

如何群超时

